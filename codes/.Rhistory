library(pROC)
obs<-rep(0:2, each=50)
pred<-c(runif(50,min=0,max=0.8),runif(50,min=0.3,max=0.6), runif(50,min=0.7,max=1))
plot(roc(obs,pred))
library(pROC)
obs<-rep(0:2, each=50)
pred<-c(runif(50,min=0,max=0.8),runif(50,min=0.3,max=0.6), runif(50,min=0.7,max=1))
plot(roc(obs,pred))
obs
pred
roc(obs,pred)
a <-roc(obs,pred)
a
a.auc
a$auc
summary(a)
a$auc
a
a$percent
a$sensitivities
a
summary(a)
a$percent
a$thresholds
a$call
a$levels
install.packages("UpsetR\")
}
)
()
/
''
}}}}}
|
install.packages("UpsetR")
install.packages("UpSetR")
movies <- read.csv(system.file("extdata", "movies.csv", package = "UpSetR"),
header = T, sep = ";")
upset(movies, nsets = 6, number.angles = 30, point.size = 5, name.size = 12,
line.size = 2, mainbar.y.label = "Genre Intersections", sets.x.label = "Movies Per Genre")
library("UpSetR")
upset(movies, nsets = 6, number.angles = 30, point.size = 5, name.size = 12,
line.size = 2, mainbar.y.label = "Genre Intersections", sets.x.label = "Movies Per Genre")
library("UpSetR")
library(stringr)
# listinput <- list(a=c(1,1,1,1,2,1,2,3,3,3), b=c(1,4,5), d=c(1,2,5,6,7), e=c(4,8,9))
# upset(fromList(listinput))
clusters_path <- "../results/merge-clust-plot"
list_of_files <- list.files(path=clusters_path, full.names=T, recursive=FALSE)
presence = list("ROD"=c(), "CS17"=c(), "ENC"=c(), "ETEC"=c(), "NCTC13441"=c(), "ERS227112"=c(), "BN373"=c(), "SEN"=c(), "STM"=c(),
"SL1344"=c(), "STMMW"=c(), "t"=c(), "b"=c())
essentiality = list("ROD"=c(), "CS17"=c(), "ENC"=c(), "ETEC"=c(), "NCTC13441"=c(), "ERS227112"=c(), "BN373"=c(), "SEN"=c(), "STM"=c(),
"SL1344"=c(), "STMMW"=c(), "t"=c(), "b"=c())
list_of_essential_genes = list("ROD"=c(), "CS17"=c(), "ENC"=c(), "ETEC"=c(), "NCTC13441"=c(), "ERS227112"=c(), "BN373"=c(), "SEN"=c(), "STM"=c(),
"SL1344"=c(), "STMMW"=c(), "t"=c(), "b"=c())
for (filename in list_of_files)
{
cluster <- as.matrix(read.table(filename))
cluster_size = nrow(cluster)
for (i in (1:cluster_size))
{
if (as.numeric(cluster[i,5]) >= 0)
{
match = str_match(cluster[i,2], "([[:graph:]]+)\\_[[:alnum:]]+")[2]
if (is.na(match))
{
match = str_match(cluster[i,2], "([[:alpha:]]+)[[:digit:]]+")[2]
}
if (match %in% names(presence))
{
presence[[match]] = c(presence[[match]], strsplit(basename(filename),"\\.")[[1]][1])
if (as.numeric(cluster[i,5]) < 0.2)
{
essentiality[[match]] = c(essentiality[[match]], strsplit(basename(filename),"\\.")[[1]][1])
list_of_essential_genes[[match]] = c(list_of_essential_genes[[match]], cluster[i,2])
}
}
}
}
}
names(presence) <- c("Citrobacter", "EC_ETEC_CS17", "Enterobacter", "EC_ETEC_H10407", "EC_UPEC",
"KP_RH201207", "KP_Ecl8", "S_enteritidis", "S_typhimurium_A130",
"S_typhimurium_SL1344", "S_typhimurium_D23580", "S_typhi", "EC_k12")
names(essentiality) <- c("Citrobacter", "EC_ETEC_CS17", "Enterobacter", "EC_ETEC_H10407", "EC_UPEC",
"KP_RH201207", "KP_Ecl8", "S_enteritidis", "S_typhimurium_A130",
"S_typhimurium_SL1344", "S_typhimurium_D23580", "S_typhi", "EC_k12")
setwd("~/EnTrI/codes")
library("UpSetR")
library(stringr)
# listinput <- list(a=c(1,1,1,1,2,1,2,3,3,3), b=c(1,4,5), d=c(1,2,5,6,7), e=c(4,8,9))
# upset(fromList(listinput))
clusters_path <- "../results/merge-clust-plot"
list_of_files <- list.files(path=clusters_path, full.names=T, recursive=FALSE)
presence = list("ROD"=c(), "CS17"=c(), "ENC"=c(), "ETEC"=c(), "NCTC13441"=c(), "ERS227112"=c(), "BN373"=c(), "SEN"=c(), "STM"=c(),
"SL1344"=c(), "STMMW"=c(), "t"=c(), "b"=c())
essentiality = list("ROD"=c(), "CS17"=c(), "ENC"=c(), "ETEC"=c(), "NCTC13441"=c(), "ERS227112"=c(), "BN373"=c(), "SEN"=c(), "STM"=c(),
"SL1344"=c(), "STMMW"=c(), "t"=c(), "b"=c())
list_of_essential_genes = list("ROD"=c(), "CS17"=c(), "ENC"=c(), "ETEC"=c(), "NCTC13441"=c(), "ERS227112"=c(), "BN373"=c(), "SEN"=c(), "STM"=c(),
"SL1344"=c(), "STMMW"=c(), "t"=c(), "b"=c())
for (filename in list_of_files)
{
cluster <- as.matrix(read.table(filename))
cluster_size = nrow(cluster)
for (i in (1:cluster_size))
{
if (as.numeric(cluster[i,5]) >= 0)
{
match = str_match(cluster[i,2], "([[:graph:]]+)\\_[[:alnum:]]+")[2]
if (is.na(match))
{
match = str_match(cluster[i,2], "([[:alpha:]]+)[[:digit:]]+")[2]
}
if (match %in% names(presence))
{
presence[[match]] = c(presence[[match]], strsplit(basename(filename),"\\.")[[1]][1])
if (as.numeric(cluster[i,5]) < 0.2)
{
essentiality[[match]] = c(essentiality[[match]], strsplit(basename(filename),"\\.")[[1]][1])
list_of_essential_genes[[match]] = c(list_of_essential_genes[[match]], cluster[i,2])
}
}
}
}
}
names(presence) <- c("Citrobacter", "EC_ETEC_CS17", "Enterobacter", "EC_ETEC_H10407", "EC_UPEC",
"KP_RH201207", "KP_Ecl8", "S_enteritidis", "S_typhimurium_A130",
"S_typhimurium_SL1344", "S_typhimurium_D23580", "S_typhi", "EC_k12")
names(essentiality) <- c("Citrobacter", "EC_ETEC_CS17", "Enterobacter", "EC_ETEC_H10407", "EC_UPEC",
"KP_RH201207", "KP_Ecl8", "S_enteritidis", "S_typhimurium_A130",
"S_typhimurium_SL1344", "S_typhimurium_D23580", "S_typhi", "EC_k12")
upset(fromList(presence), nsets = 13, order.by="freq", nintersects=66)
upset(fromList(essentiality), nsets = 13, order.by="freq", nintersects=51)
list_of_essential_genes$"ROD"
unique(list_of_essential_genes$"ROD")
length(unique(list_of_essential_genes$"ROD"))
length((list_of_essential_genes$"ROD"))
length(unique(list_of_essential_genes$"ROD"))
length(unique(list_of_essential_genes$"CS17"))
length(unique(list_of_essential_genes$"ENC"))
length(unique(list_of_essential_genes$"ETEC"))
length(unique(list_of_essential_genes$"NCTC13441"))
length(unique(list_of_essential_genes$"ERS227112"))
length(unique(list_of_essential_genes$"BN373"))
length(unique(list_of_essential_genes$"SEN"))
length(unique(list_of_essential_genes$"STM"))
length(unique(list_of_essential_genes$"SL1344"))
length(unique(list_of_essential_genes$"STMMW"))
length(unique(list_of_essential_genes$"t"))
length(unique(list_of_essential_genes$"b"))
